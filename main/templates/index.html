{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- <link rel="stylesheet" href="{% static 'css/loginstyle.css' %}"> -->

  <!-- StyleSheets -->
  <link rel="stylesheet" href="{% static 'css/home.css' %}" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
  <!-- JqUERY AND BootStrap -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300&family=Sora:wght@400;500;600;700;800&display=swap"
    rel="stylesheet" />
  <title>EmoPlayer</title>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #333333; color: #fff">
    <img src="{% static 'imgs/Group.png' %}" alt="" />
    <a class="navbar-brand" href="#" style="padding-left: 10px; color: #fff">EmoPlayer</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <div class="nav-link" target="_blank" onclick="location.href='{% url 'about' %}'" style="font-size: larger; color: #fff; cursor: pointer;">About us <span
              class="sr-only">(current)</span></div>
        </li>
        <li class="nav-item active">
          <a class="nav-link" onclick="location.href='{% url 'contact' %}'" style="font-size: larger; color: #fff; cursor: pointer;">Contact us<span
              class="sr-only">(current)</span></a>
        </li>
      </ul>
    </div>
    <button class="btn" id="login">
      Login
    </button>
  </nav>

  <div class="main">
    <div class="content">
      <div class="main-heading">
        Hear the music. Feel the beat.
      </div>
      <div class="details">
        The significance of music on an individual's emotions has been generally acknowledged.
        After the day’s toils and hard work, both the primitive and modern man were able to relax and
        ease him in the melody of the music. Studies have proved that the rhythm itself is a great
        tranquilliser.
      </div>

      <div class="buttons" style="
            display: flex;
            justify-content: space-between;
            width: 15rem;
            margin-top: 2rem;
          ">
        <div>
          <!-- <button class="btn" id="getStarted-btn" type="submit">
              Get Started
            </button> -->
          <button class="btn" id="getStarted-btn" onclick="getStarted()">Get Started</button>
        </div>
      </div>
    </div>
    <div class="carousel">
      <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="{% static 'imgs/Emoplayer_1.png' %}" alt="..." class="carousel-imgs" />
            <div class="carousel-caption d-none d-md-block">
              <h5 style="color: #702963">Click a Picture</h5>
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'imgs/Emoplayer_2.png' %}" alt="..." class="carousel-imgs" />
            <div class="carousel-caption d-none d-md-block">
              <h5 style="color: #702963">
                Get a Song Based on Your Emotions
              </h5>
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'imgs/Emoplayer_3.png' %}" alt="..." class="carousel-imgs" />
            <div class="carousel-caption d-none d-md-block">
              <h5 style="color: #702963">And Enjoy!!!</h5>
            </div>
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <!-- asldjfalskdf;laskd -->
    </div>
  </div>
  <script src="{% static 'js/home.js' %}" type="text/javascript"></script>
  <!-- <script type="module" >
      document.getElementById('getStarted-btn').onclick = function() { goToPlayer() }
      import PythonShell from PythonShell;
      function goToPlayer(){
        console.log ('hi');
        PythonShell.run("../../manage.py",  function (err) {
        if (err) throw err;
        console.log('finished');
    });
  }
  </script> -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js";
    import {
      getDatabase,
      set,
      ref,
      update,
    } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-database.js";

    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-analytics.js";
    import {
      getAuth,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      onAuthStateChanged, signOut
    } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyAQgJy14-hdF_rk3_QIVfkppr95FrdloTM",
      authDomain: "emoplayer-fb746.firebaseapp.com",
      databaseURL: "https://emoplayer-fb746-default-rtdb.firebaseio.com",
      projectId: "emoplayer-fb746",
      storageBucket: "emoplayer-fb746.appspot.com",
      messagingSenderId: "627032311657",
      appId: "1:627032311657:web:c2469181670aab2c7cdff8",
      measurementId: "G-D9HGQZKK1X",
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const database = getDatabase(app);
    const auth = getAuth();
    var loggedin = localStorage.getItem("loggedin");
    //alert(loggedin);

    login.addEventListener("click", (e) => {
      //alert('in')
      if (loggedin == "yes") {
        signOut(auth)
          .then(() => {
            document.getElementById("login").innerHTML = "Login";
            localStorage.setItem("loggedin", "no");
            location.reload();
          })
          .catch((error) => {
            // An error happened.
            alert(error);
          });
      }
      else {
        //alert('hi');
        location.href = '{% url 'login' %}'

      }
    });
  </script>

  <script>
    function getStarted() {

      var loggedin = localStorage.getItem('loggedin');
      // alert(loggedin);
      console.log(loggedin);
      if (loggedin == 'yes') {
      location.href = '{% url 'music' %}'
      }

      else {
        alert('Please Login First');
        location.href = '{% url 'login' %}'
      }
    }

  </script>

  <script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script>
</body>

</html>